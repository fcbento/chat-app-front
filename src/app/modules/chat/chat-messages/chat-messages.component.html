<div id="messages" #scrollMe>
  <div class="row">
    <div class="col-11">
      <ng-container #vc></ng-container>
    </div>
  </div>

</div>

<ng-template #template let-message='message'>

  <div [ngClass]="isCurrentUser(message) && !message.isYoutube ? 'self' : ''">
    <div class="row messages">

      <div class="col-avatar">
        <img class="avatar"
          src="https://cdn.discordapp.com/avatars/231489103428845568/9100a11f4f29b976c525ba3f3b728117.png?size=128"
          alt="">
      </div>

      <div class="col-xs-11">
        <span class="message-from">
          {{!isCurrentUser(message) ? message.from + ' ' : user.name }}
        </span>

        <time class="message-time">
          {{moment(message.createdAt).fromNow()}}
        </time>

        <div class="row start-xs">
          <div class="col">
            <span class="content-body">
              {{message.text}}
            </span>
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- <ng-container *ngIf="!message.isYoutube && !message.isAudio">

    <li [ngClass]="isCurrentUser(message) ? 'message self self-color' : 'message other-color'">
      <div class="row">

        <span class="content-body">
          {{message.text}}
        </span>

      </div>
    </li>

  </ng-container> -->

  <ng-container *ngIf="message.isYoutube">

    <li class="message message-yt">
      <app-chat-message-youtube *ngIf="message.isYoutube" [youtubeLink]="message.text"> </app-chat-message-youtube>
    </li>

  </ng-container>

  <ng-container *ngIf="message.isAudio">

    <audio controls="" [ngClass]="isCurrentUser(message) && message.isAudio ? 'self' : ''">
      <source [src]="sanitize(message.text)" type="audio/wav">
    </audio>

  </ng-container>

</ng-template>

